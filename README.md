# tlc64

C言語のコンパイラである。ただし制約として、

* 変数はint型のみ宣言できる
* 定数は整数式のみ利用できる
* 式は+,-,*,<,<=,>=,>,==,!=のみ利用できる
* 文はif,while,do-while,do-while,for,returnのみ利用できる

というルールになっている。当然インクリメントなどは存在しないしコメントも書けない。

基本的には勉強目的のコンパイラとなっており、実用性に関しては無視している

# 追加した仕様
### 2023/6/15

* ポインタに対応（ただし左辺には使えない）
* 除算・剰余に対応

ただしいずれもarm64に限り対応している。x64は分からん。

# あとがき
結構言語の制約が強いので拡張が難しかったというのが正直な感想。特に変数とポインタのサイズが異なるのがポインタ実装における最大の障壁となっていた。まああまり高機能にしても学習には向かなくなってしまうので難しいところではある。とはいえコンパイラの大体の箇所を見たり編集したので字句解析や構文解析、コード生成については結構勉強にはなった。これからは再び作る機会があれば既存のOSSコンパイラを参考に作っていこうかなって思う。

あとARM64って最初は難しいのかなって思ってたけどかじってみたら思ったよりは簡単だった。x64のコード生成はわけがわからないよってしかならなかったけどおおよその部分はARM64と同じなので結局どんなプロセッサでも大体似たような構造になるものなのかね。
